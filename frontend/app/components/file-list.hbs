<input type="file" multiple accept={{join ', ' this.allowedExtensions}} class="d-none" {{did-insert (set this 'fileInputElement')}} {{on 'change' (pipe (pick 'target.files' this.addFiles) (set this 'fileInputElement.value' ''))}} {{!-- template-lint-disable require-input-label --}} />

{{#if @files}}
  <div class="card {{if this.dragOver 'drag-over opacity-50 border-primary'}}" {{drop-target this.addFiles enter=(set this 'dragOver' true) leave=(set this 'dragOver' false)}}>
    <ul class="list-group list-group-flush overflow-auto" style="max-height: 550px">
      {{#each (sort-by 'name' @files) as |file|}}
        <FileList::Item @file={{file}} @errors={{append file.errors (map-get @crossoverErrors file)}} @onRemove={{@onRemove}} />
      {{/each}}
    </ul>

    <div class="card-footer d-flex justify-content-between align-items-center bg-white">
      <div>
        <button type="button" class="btn btn-outline-primary" {{on 'click' (prevent-default this.selectFiles)}}>
          ファイルの追加
        </button>
      </div>

      <div>
        {{@files.length}}ファイル、{{filesize (sum (map-by 'size' @files))}}
      </div>
    </div>
  </div>
{{else}}
  <div class="card border-2 border-dashed {{if this.dragOver 'drag-over opacity-50 border-primary'}}" {{drop-target this.addFiles enter=(set this 'dragOver' true) leave=(set this 'dragOver' false)}}>
    <div class="card-body py-5 text-center text-muted">
      <a href="#" class="stretched-link" {{on 'click' (prevent-default this.selectFiles)}}>ファイルを選択</a>するか、ここにファイルをドロップしてください。
    </div>
  </div>
{{/if}}
